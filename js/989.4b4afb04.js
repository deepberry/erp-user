"use strict";(self["webpackChunktitan2"]=self["webpackChunktitan2"]||[]).push([[989],{3052:function(t,l,e){e.d(l,{Z:function(){return x}});var i=e(6252),a=e(3577);const s=t=>((0,i.dD)("data-v-0ea1b26a"),t=t(),(0,i.Cn)(),t),o={class:"search"},n=(0,i.Uk)("查询"),r={class:"list"},d=["onClick"],u={class:"itemInner"},c={class:"itemTitle"},p={class:"itemInner"},g=s((()=>(0,i._)("p",null,null,-1))),m={key:0,class:"itemInner"},w={key:1,class:"itemInner"},k=(0,i.Uk)(" 虫子情况： "),h={key:0},D={key:2,class:"itemInner"},_=(0,i.Uk)(" 天敌情况： "),v={key:0},y={key:3,class:"itemInner"},f={key:4,class:"itemInner"},A={key:5,class:"itemInner"},C={class:"itemInner btm"},b={key:6,class:"foot"};function B(t,l,e,s,B,z){const I=(0,i.up)("el-input"),T=(0,i.up)("el-button"),U=(0,i.up)("el-empty"),q=(0,i.up)("PlantCropsDetailCDialogDetail"),x=(0,i.up)("el-dialog");return(0,i.wg)(),(0,i.j4)(x,{modelValue:B.dialogVisible,"onUpdate:modelValue":l[1]||(l[1]=t=>B.dialogVisible=t),title:e.title,width:"30%","before-close":z.handleClose,"append-to-body":""},{default:(0,i.w5)((()=>[(0,i._)("div",o,[(0,i.Wm)(I,{modelValue:B.searchKey,"onUpdate:modelValue":l[0]||(l[0]=t=>B.searchKey=t),placeholder:"关键字搜索：农事类型、农资、备注"},null,8,["modelValue"]),(0,i.Wm)(T,{type:"primary",style:{"margin-left":"15px"},plain:"",onClick:z.getData},{default:(0,i.w5)((()=>[n])),_:1},8,["onClick"])]),(0,i._)("div",r,[0==B.list.length?((0,i.wg)(),(0,i.j4)(U,{key:0,description:"暂无数据"})):(0,i.kq)("",!0),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(B.list,(t=>((0,i.wg)(),(0,i.iD)("div",{class:"item",key:t.id,style:{cursor:"pointer"},onClick:l=>z.detail(t.id)},[(0,i._)("div",u,[(0,i._)("p",c,(0,a.zw)(t.title),1),(0,i._)("p",null,(0,a.zw)(t.workTime),1)]),(0,i._)("div",p,[(0,i._)("p",null,"备注："+(0,a.zw)(t.workText),1),g]),"病虫害监测"==t.title?((0,i.wg)(),(0,i.iD)("div",m,[(0,i._)("p",null,"监测点："+(0,a.zw)(t.farmDetailBo.title),1)])):(0,i.kq)("",!0),"病虫害监测"==t.title?((0,i.wg)(),(0,i.iD)("div",w,[(0,i._)("p",null,[k,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.farmDetailBo.farmDetailListChongBoList,((l,e)=>((0,i.wg)(),(0,i.iD)("span",{key:l.id},[(0,i.Uk)((0,a.zw)(l.title)+(0,a.zw)(l.count)+"只",1),e<t.farmDetailBo.farmDetailListChongBoList.length-1?((0,i.wg)(),(0,i.iD)("span",h,"、")):(0,i.kq)("",!0)])))),128))])])):(0,i.kq)("",!0),"病虫害监测"==t.title?((0,i.wg)(),(0,i.iD)("div",D,[(0,i._)("p",null,[_,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.farmDetailBo.farmDetailListTianBoList,((l,e)=>((0,i.wg)(),(0,i.iD)("span",{key:l.id},[(0,i.Uk)((0,a.zw)(l.title)+(0,a.zw)(l.count)+"只",1),e<t.farmDetailBo.farmDetailListTianBoList.length-1?((0,i.wg)(),(0,i.iD)("span",v,"、")):(0,i.kq)("",!0)])))),128))])])):(0,i.kq)("",!0),"生长观察"==t.title?((0,i.wg)(),(0,i.iD)("div",y,[(0,i._)("p",null,"植株编号："+(0,a.zw)(t.farmDetailBo.title),1)])):(0,i.kq)("",!0),"生长观察"==t.title?((0,i.wg)(),(0,i.iD)("div",f,[(0,i._)("p",null,"株高："+(0,a.zw)(t.farmDetailBo.farmDetailListGrowBoList[0].title)+"cm",1)])):(0,i.kq)("",!0),"生长观察"==t.title?((0,i.wg)(),(0,i.iD)("div",A,[(0,i._)("p",null,"节点数："+(0,a.zw)(t.farmDetailBo.farmDetailListGrowBoList[0].count)+"个",1)])):(0,i.kq)("",!0),(0,i._)("div",C,[(0,i._)("div",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.farmUseBos,(t=>((0,i.wg)(),(0,i.iD)("p",{key:t.id},[(0,i._)("span",null,(0,a.zw)(t.agricultural),1),(0,i._)("span",null,(0,a.zw)(t.agriculturalCount)+(0,a.zw)(t.agriculturalUnit),1)])))),128))]),(0,i._)("p",null,(0,a.zw)(t.userName),1)]),"工时使用统计"==e.title?((0,i.wg)(),(0,i.iD)("div",b,(0,a.zw)(t.workHour)+"工时",1)):(0,i.kq)("",!0)],8,d)))),128))]),B.showDetail?((0,i.wg)(),(0,i.j4)(q,{key:0,title:B.detailTitle,id:B.detailId,onClose:z.closeDetail},null,8,["title","id","onClose"])):(0,i.kq)("",!0)])),_:1},8,["modelValue","title","before-close"])}var z=e(2335),I=e(5626),T={props:["title","id","title2"],data(){return{dialogVisible:!0,searchKey:"",list:[],showDetail:!1,detailTitle:"",detailId:""}},mounted(){this.getData()},components:{PlantCropsDetailCDialogDetail:I.Z},methods:{handleClose(){this.dialogVisible=!1,this.$emit("close")},detail(t){this.detailTitle="统计详情",this.showDetail=!0,this.detailId=t,console.log(t)},closeDetail(){setTimeout((()=>{this.showDetail=!1}),300)},getData(){let t={},l="";"农资使用统计"==this.title?(t={agriculturalId:this.id,endTime:"",keyWord:this.searchKey,plantsId:this.$route.query.id,startTime:""},l="/api/v1/adam/farm/getFarmRecordByAgriculturalId"):(t={title:this.title2,endTime:"",farmId:this.id||1,keyWord:this.searchKey,plantsId:this.$route.query.id,startTime:""},l="/api/v1/adam/farm/getFarmWorkRecordByFarmId"),this.ajax.post(l,t).then((t=>{this.list=t.data.map((t=>(t.workTime=z.Z.time("y-m-d",t.workTime),t)))}))}}},U=e(8118);const q=(0,U.Z)(T,[["render",B],["__scopeId","data-v-0ea1b26a"]]);var x=q},3701:function(t,l,e){e.r(l),e.d(l,{default:function(){return O}});var i=e(6252),a=e(3577),s=e(2106);const o=t=>((0,i.dD)("data-v-a48b1c4a"),t=t(),(0,i.Cn)(),t),n={class:"stockPut inner"},r={class:"box"},d={class:"head"},u=o((()=>(0,i._)("i",{class:"erp erpfanhui",style:{"font-size":"14px","margin-right":"5px",position:"relative",top:"-1px"}},null,-1))),c=(0,i.Uk)(" 返回 "),p=o((()=>(0,i._)("span",{style:{position:"relative",top:"2px","font-size":"15px"}},"历史种植详情",-1))),g={class:"main"},m={class:"wrap"},w={class:"wrap info"},k={class:"plant"},h=["src"],D=o((()=>(0,i._)("span",null,"面积：",-1))),_=o((()=>(0,i._)("span",null,"产量：",-1))),v=o((()=>(0,i._)("div",{class:"space"},null,-1))),y={class:"time"},f={class:"start"},A=o((()=>(0,i._)("p",null,"开始时间",-1))),C=o((()=>(0,i._)("div",{class:"line"},[(0,i._)("img",{src:s,alt:""})],-1))),b={class:"start"},B=o((()=>(0,i._)("p",null,"结束时间",-1))),z=o((()=>(0,i._)("div",{class:"t"},"历史种植数据：",-1))),I={class:"list"},T={class:"table"},U=o((()=>(0,i._)("div",{class:"tableTitle"},"（采收统计）",-1))),q=o((()=>(0,i._)("div",{class:"tableItem tableHead"},[(0,i._)("p",null,"采收时间"),(0,i._)("p",null,"重量")],-1))),x={class:"tableItems"},V={key:1,class:"tableItem tableAll"},W=o((()=>(0,i._)("p",null,"合计",-1))),R={class:"table"},K=o((()=>(0,i._)("div",{class:"tableTitle"},"（农资使用）",-1))),L=o((()=>(0,i._)("div",{class:"tableItem tableHead"},[(0,i._)("p",null,"类型"),(0,i._)("p",null,"用量")],-1))),H={class:"tableItems"},P=["onClick"],F={class:"table"},j=o((()=>(0,i._)("div",{class:"tableTitle"},"（工时统计）",-1))),Y=o((()=>(0,i._)("div",{class:"tableItem tableHead"},[(0,i._)("p",null,"农事类型"),(0,i._)("p",null,"工时（小时）")],-1))),E={class:"tableItems"},N=["onClick"],Q={key:1,class:"tableItem tableAll"},Z=o((()=>(0,i._)("p",null,"合计",-1)));function G(t,l){const e=(0,i.up)("el-button"),s=(0,i.up)("el-empty"),o=(0,i.up)("PlantCropsDetailCDialog"),G=(0,i.Q2)("loading");return(0,i.wg)(),(0,i.iD)("div",n,[(0,i._)("div",r,[(0,i._)("div",d,[(0,i.Wm)(e,{link:"",type:"primary",onClick:t.back},{default:(0,i.w5)((()=>[u,c])),_:1},8,["onClick"]),p]),(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",g,[(0,i._)("div",m,(0,a.zw)(t.detail.categoryTitle),1),(0,i._)("div",w,[(0,i._)("div",k,[(0,i._)("img",{src:t.detail.image,alt:""},null,8,h),(0,i._)("div",null,[(0,i._)("p",null,(0,a.zw)(t.detail.categoryTitle)+"-"+(0,a.zw)(t.detail.varietyTitle)+"-"+(0,a.zw)(t.detail.address),1),(0,i._)("p",null,[D,(0,i.Uk)((0,a.zw)(t.detail.area)+"亩",1)]),(0,i._)("p",null,[_,(0,i.Uk)((0,a.zw)(t.detail.weightAll)+"公斤",1)])])]),v,(0,i._)("div",y,[(0,i._)("div",f,[(0,i._)("p",null,(0,a.zw)(t.detail.plantTime),1),A]),C,(0,i._)("div",b,[(0,i._)("p",null,(0,a.zw)(t.detail.endTime),1),B])])]),z,(0,i._)("div",I,[(0,i._)("div",T,[U,q,(0,i._)("div",x,[0==t.reap.length?((0,i.wg)(),(0,i.j4)(s,{key:0,description:"暂无数据"})):(0,i.kq)("",!0),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.reap,((t,l)=>((0,i.wg)(),(0,i.iD)("div",{class:"tableItem",key:l},[(0,i._)("p",null,(0,a.zw)(t.workTime),1),(0,i._)("p",null,(0,a.zw)(t.weightAll||0),1)])))),128)),t.reap.length>0?((0,i.wg)(),(0,i.iD)("div",V,[W,(0,i._)("p",null,(0,a.zw)(t.reapCount),1)])):(0,i.kq)("",!0)])]),(0,i._)("div",R,[K,L,(0,i._)("div",H,[0==t.farmUseBos.length?((0,i.wg)(),(0,i.j4)(s,{key:0,description:"暂无数据"})):(0,i.kq)("",!0),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.farmUseBos,((l,e)=>((0,i.wg)(),(0,i.iD)("div",{class:"tableItem",key:e},[(0,i._)("p",null,(0,a.zw)(l.agricultural),1),(0,i._)("p",{style:{color:"#6397fd",cursor:"pointer","text-decoration":"underline"},onClick:e=>t.$store.state.power.agricultureMaterialsBtn?t.showDialogBox("农资使用统计",l.id):()=>{}},(0,a.zw)(l.agriculturalCount||0)+(0,a.zw)(l.agriculturalUnit),9,P)])))),128))])]),(0,i._)("div",F,[j,Y,(0,i._)("div",E,[0==t.farmWorkBos.length?((0,i.wg)(),(0,i.j4)(s,{key:0,description:"暂无数据"})):(0,i.kq)("",!0),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.farmWorkBos,((l,e)=>((0,i.wg)(),(0,i.iD)("div",{class:"tableItem",key:e},[(0,i._)("p",null,(0,a.zw)(l.agricultural),1),(0,i._)("p",{style:{color:"#6397fd",cursor:"pointer","text-decoration":"underline"},onClick:e=>t.$store.state.power.workingHoursBtn?t.showDialogBox("工时使用统计",l.id,l.agricultural):()=>{}},(0,a.zw)(l.agriculturalCount||0),9,N)])))),128)),t.farmWorkBos.length>0?((0,i.wg)(),(0,i.iD)("div",Q,[Z,(0,i._)("p",null,(0,a.zw)(t.farmWorkBosCount),1)])):(0,i.kq)("",!0)])])])])),[[G,t.loading]])]),t.showDialog?((0,i.wg)(),(0,i.j4)(o,{key:0,id:t.dialogId,title:t.dialogTitle,title2:t.dialogTitle2,onClose:t.closeDialog},null,8,["id","title","title2","onClose"])):(0,i.kq)("",!0)])}var S=e(3052),$=(e(2335),{name:"stockRecord",data(){return{loading:!1,detail:{},reap:[],farmUseBos:[],farmWorkBos:[],showDialog:!1,dialogTitle:"",dialogTitle2:"",dialogId:""}},components:{PlantCropsDetailCDialog:S.Z},computed:{farmWorkBosCount(){let t=0;return this.farmWorkBos.map((l=>{t+=l.agriculturalCount||0})),t},reapCount(){let t=0;return this.reap.map((l=>{t+=l.weightAll||0})),t}},mounted(){let t=this,l=async function(){t.loading=!0,await t.getData(),await t.getReap(),await t.getStat(),t.loading=!1};l()},methods:{showDialogBox(t,l,e){this.dialogTitle=t,this.dialogTitle2=e,this.dialogId=l,console.log(e),this.showDialog=!0},closeDialog(){this.showDialog=!1},back(){this.$router.push({path:"/erp/plant/history",query:{id:this.$route.query.gardenId}})},getData(){return new Promise(((t,l)=>{this.ajax.post("/api/v1/adam/plants/getPlants",{id:this.$route.query.id}).then((l=>{this.detail=l.data,this.loading=!1,t()}))}))},getReap(){return new Promise(((t,l)=>{this.ajax.post("/api/v1/adam/farm/getFarmRecoveryByPlantsId",{plantsId:this.$route.query.id}).then((l=>{this.reap=l.data,t()}))}))},getStat(){return new Promise(((t,l)=>{this.ajax.post("/api/v1/adam/farm/searchfarmUseRecoveryByPlantsId",{endTime:"",id:this.$route.query.id,keyWord:"",startTime:""}).then((l=>{this.farmUseBos=l.data.farmUseBos,this.farmWorkBos=l.data.farmWorkBos,t()}))}))}}}),J=e(8118);const M=(0,J.Z)($,[["render",G],["__scopeId","data-v-a48b1c4a"]]);var O=M},2106:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEsAAAALCAYAAAA3FnCGAAAAAXNSR0IArs4c6QAAAZpJREFUSEvtlkFOwzAQRX+WHAEFibNwAZa9AwJE2RSxwt0iVCFA7WV6EOAAVGJTCYlVsQeNx07GidP0AM4msWdsz7z5Y6VCeXoEZqvNw+PF8bxrqAqrPoHZ8oscVebpMgVWYGXUIrAAh8osFLACax8sR3CAeb6ufUtWxA8ARulpOsARhTeP47yyxznvH31za9Real9LBPLj/nk27MdRsd06wH+zvwN4Lb/jnKUQu7e18fL+0ZfzkbGON56v8mti6rAgmJebei6w+MAQXAsnAy2bYA6WgqwS3VcEhpJCIHBcAolCohKn922gMdC2UFx0gSI+KTQBK+t1IceEwrKC8bBYYuOQMspKVNhWPw9Fwx9RYUcBHkZQkCgpVayHE8E4gRwV2YDJdEgDfrCbwjlU7RzRdKQNDwMggQ21rLRDkqDyFUUFFQW16P1i6+j9o71VVGzNoDLfKVpxujgp2KGrp1lP2FqLyettvS4X/J4LnggfBHe+uDr59Bd8+c8a+s/C+vdnN1ndn26jR4GVUcvdcvN29P0+NebsT5v/AfJO/di+Ui5TAAAAAElFTkSuQmCC"}}]);
//# sourceMappingURL=989.4b4afb04.js.map