{"version":3,"file":"js/213.ab3ea916.js","mappings":"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","sources":["webpack://titan2/./src/views/erp/WorkOrder.vue","webpack://titan2/./src/components/workOrder/WorkOrderDetail.vue","webpack://titan2/./src/components/workOrder/WorkOrderDetail.vue?b6a5","webpack://titan2/./src/views/erp/WorkOrder.vue?b384"],"sourcesContent":["<template>\n    <div class=\"workOrder inner\">\n        <div class=\"box\">\n            <div class=\"head\">\n                <span class=\"active\">工单列表</span>\n            </div>\n            <div class=\"ctrl\">\n                <div class=\"status\">\n                    <el-badge\n                        class=\"statusItem\"\n                        :value=\"item.sup > 0 ? item.sup : ''\"\n                        @click=\"changeStatus(item)\"\n                        v-for=\"item in status\"\n                        :key=\"item.value\"\n                    >\n                        <el-button :type=\"currentStatus == item.value ? 'primary' : ''\" link>{{\n                            item.title\n                        }}</el-button>\n                    </el-badge>\n                </div>\n                <div class=\"search\">\n                    <el-input\n                        v-model=\"searchKey\"\n                        class=\"searchInput\"\n                        placeholder=\"关键词搜索：农资类型、农资名称...\"\n                    ></el-input>\n                    <el-button type=\"primary\" class=\"searchSubmit\" @click=\"getData\">查询</el-button>\n                </div>\n            </div>\n            <div class=\"tableWrap\">\n                <div class=\"table\">\n                    <el-table size=\"large\" :data=\"list\" v-loading=\"loading\" style=\"width: 100%\" max-height=\"600px\">\n                        <el-table-column prop=\"orderUuid\" label=\"工单号\" show-overflow-tooltip></el-table-column>\n                        <el-table-column label=\"农资名称\" show-overflow-tooltip>\n                            <template #default=\"scope\">\n                                <span v-for=\"(item, index) in scope.row.totalCount\" :key=\"index\"\n                                    >{{ item.variety }} <br\n                                /></span>\n                            </template>\n                        </el-table-column>\n                        <el-table-column prop=\"type\" label=\"农资类型\">\n                            <template #default=\"scope\">\n                                <span v-for=\"(item, index) in scope.row.totalCount\" :key=\"index\"\n                                    >{{ item.title }} <br\n                                /></span>\n                            </template>\n                        </el-table-column>\n                        <el-table-column prop=\"num\" label=\"数量\">\n                            <template #default=\"scope\">\n                                <span v-for=\"(item, index) in scope.row.totalCount\" :key=\"index\"\n                                    >{{ item.agriculturalCos }} {{ item.unitweight }} <br\n                                /></span>\n                            </template>\n                        </el-table-column>\n                        <el-table-column label=\"状态\">\n                            <template #default=\"scope\">\n                                <span :style=\"{ color: scope.row.orderStatusColor }\">{{ scope.row.orderStatus }}</span>\n                            </template>\n                        </el-table-column>\n                        <el-table-column prop=\"userName\" label=\"申领人\"></el-table-column>\n                        <el-table-column label=\"操作\" width=\"260\">\n                            <template #default=\"scope\">\n                                <el-button\n                                    link\n                                    type=\"primary\"\n                                    @click=\"showDetail(scope.row.id)\"\n                                    v-if=\"$store.state.power.workOrderDetail\"\n                                    >查看详情</el-button\n                                >\n                            </template>\n                        </el-table-column>\n                    </el-table>\n                    <div class=\"pages\" v-if=\"list.length > 0\">\n                        <span class=\"total\">共 {{ total }} 条</span>\n                        <el-pagination\n                            v-model:currentPage=\"currentPage\"\n                            background\n                            @current-change=\"getData\"\n                            layout=\"prev, pager, next, jumper\"\n                            :total=\"total\"\n                        />\n                    </div>\n                </div>\n            </div>\n        </div>\n        <WorkOrderDetail v-if=\"showDetailBox\" :id=\"currentDetailId\" @onCloseDetail=\"onCloseDetail\"></WorkOrderDetail>\n    </div>\n</template>\n\n<script>\nimport WorkOrderDetail from \"@/components/workOrder/WorkOrderDetail.vue\";\nexport default {\n    name: \"workOrder\",\n    data() {\n        return {\n            status: [\n                // 状态列表\n                {\n                    title: \"全部\",\n                    value: \"-1\",\n                    sup: 0,\n                },\n                {\n                    title: \"待审核\",\n                    value: \"0\",\n                    sup: 0,\n                },\n                {\n                    title: \"待出库\",\n                    value: \"1\",\n                    sup: 0,\n                },\n                {\n                    title: \"不通过\",\n                    value: \"2\",\n                    sup: 0,\n                },\n                {\n                    title: \"已出库\",\n                    value: \"3\",\n                    sup: 0,\n                },\n            ],\n            currentStatus: \"-1\", // 当前选定的状态\n            searchKey: \"\", // 搜索关键词\n            loading: false,\n            list: [],\n            currentPage: 1,\n            pageSize: 100,\n            total: 0,\n            showDetailBox: false, // 是否显示详情弹窗\n            currentDetailId: \"\", // 查看详情的ID\n        };\n    },\n    components: {\n        WorkOrderDetail,\n    },\n    mounted() {\n        const ajax = async () => {\n            await this.getData();\n            await this.getStatus_0();\n        };\n        ajax();\n    },\n    methods: {\n        // 获取数据\n        getData() {\n            return new Promise((a, b) => {\n                this.loading = true;\n                this.ajax\n                    .post(\"/api/v1/adam/workOrder/workOrder-list\", {\n                        pageNum: this.currentPage,\n                        pageSize: 10,\n                        param: {\n                            keyWord: this.searchKey,\n                            orderStatus: this.currentStatus,\n                        },\n                    })\n                    .then((r) => {\n                        this.loading = false;\n                        this.list = r.data.map((item) => {\n                            let status = \"\";\n                            let color = \"\";\n                            switch (item.orderStatus) {\n                                case 0:\n                                    status = \"待审核\";\n                                    color = \"#EC2626\";\n                                    break;\n                                case 1:\n                                    status = \"待出库\";\n                                    color = \"#0DD71C\";\n                                    break;\n                                case 2:\n                                    status = \"不通过\";\n                                    color = \"#1890FF\";\n                                    break;\n                                case 3:\n                                    status = \"已出库\";\n                                    color = \"#A8A8A8\";\n                                    break;\n                            }\n                            item.orderStatus = status;\n                            item.orderStatusColor = color;\n                            return item;\n                        });\n                        this.total = r.total;\n                        a();\n                    });\n            });\n        },\n        // 获取待审核的数量\n        getStatus_0() {\n            return new Promise((a, b) => {\n                this.ajax\n                    .post(\"/api/v1/adam/workOrder/workOrder-list\", {\n                        pageNum: this.currentPage,\n                        pageSize: 10,\n                        param: {\n                            keyWord: this.searchKey,\n                            orderStatus: 0,\n                        },\n                    })\n                    .then((r) => {\n                        this.status[1].sup = r.total;\n                        a();\n                    });\n            });\n        },\n        changeStatus(item) {\n            this.currentStatus = item.value;\n            this.getData();\n        },\n        // 打开详情\n        showDetail(id) {\n            console.log(this.showDetailBox);\n            this.currentDetailId = id;\n            this.showDetailBox = true;\n        },\n        // 关闭详情\n        onCloseDetail(v) {\n            if (v == 1) {\n                this.getData();\n            }\n            let timer = setTimeout(() => {\n                this.showDetailBox = false;\n                clearTimeout(timer);\n            }, 500);\n        },\n    },\n};\n</script>\n\n<style lang=\"less\" scoped>\n@import url(\"@/assets/css/inner.less\");\n</style>\n","<template>\n    <div class=\"workOrderDetail purchaseDetailBox\">\n        <el-dialog\n            custom-class=\"workOrderDetail purchaseDetailBox\"\n            :before-close=\"onClose\"\n            append-to-body\n            v-model=\"showDetailBox\"\n            title=\"工单详情\"\n            width=\"1000px\"\n        >\n            <div v-loading=\"detailLoading\" class=\"workOrderDetailInner purchaseDetailBoxInner\">\n                <div class=\"item\">\n                    <p>工单号：{{ detail.orderNo }}</p>\n                    <p :style=\"{ color: detail.color }\">{{ detail.status }}</p>\n                </div>\n                <div class=\"item\">\n                    <p>提交人：{{ detail.userName }}</p>\n                    <p>提交时间：{{ detail.orderTime }}</p>\n                </div>\n                <el-table size=\"large\" :data=\"detail.agriculturalCartBos\" style=\"width: 100%; margin-top: 20px\">\n                    <el-table-column\n                        label=\"农资名称\"\n                        prop=\"agriculturalBo.title\"\n                        show-overflow-tooltip\n                    ></el-table-column>\n                    <el-table-column\n                        label=\"类型\"\n                        width=\"140\"\n                        prop=\"agriculturalBo.agriculturalCategory\"\n                        show-overflow-tooltip\n                    ></el-table-column>\n                    <el-table-column label=\"规格\" width=\"140\" show-overflow-tooltip>\n                        <template #default=\"scope\">\n                            {{ scope.row.agriculturalBo.agriculturalCount }}\n                            {{ scope.row.agriculturalBo.unitweight }}/{{ scope.row.agriculturalBo.unitmeasurement }}\n                        </template>\n                    </el-table-column>\n                    <el-table-column\n                        label=\"厂家\"\n                        prop=\"agriculturalBo.manufacturers\"\n                        show-overflow-tooltip\n                    ></el-table-column>\n                    <el-table-column label=\"申领数量\" show-overflow-tooltip>\n                        <template #default=\"scope\">\n                            {{ scope.row.agriculturalCos }} {{ scope.row.agriculturalBo.unitweight }}\n                        </template>\n                    </el-table-column>\n                    <el-table-column label=\"当前库存\" show-overflow-tooltip>\n                        <template #default=\"scope\">\n                            {{ scope.row.unit }} {{ scope.row.agriculturalBo.unitweight }}\n                        </template>\n                    </el-table-column>\n                </el-table>\n                <div class=\"bottom\">\n                    <div>合计：</div>\n                    <div>\n                        <p v-for=\"(item, index) in detail.totalCount\" :key=\"index\">\n                            <span>{{ item.title }}</span>\n                            <span>{{ item.agriculturalCos }}{{ item.unitweight }}</span>\n                        </p>\n                        <p style=\"height: 0px\"></p>\n                    </div>\n                </div>\n                <div class=\"form\">\n                    <p class=\"formTitle\">审核流程</p>\n                    <p v-for=\"(item, index) in detail.orderManagerBoList\" :key=\"index\">\n                        <span>{{ item.username }}</span>\n                        <span :style=\"{ color: item.color }\">{{ item.check }}</span>\n                        <span>{{ item.checkTime }}</span>\n                    </p>\n                </div>\n                <div class=\"formButton\">\n                    <el-button\n                        type=\"primary\"\n                        @click=\"check(2)\"\n                        plain\n                        v-if=\"$store.state.power.reviewOrderBtn && detail.isCheckBth == 1\"\n                        >不通过</el-button\n                    >\n                    <el-button\n                        type=\"primary\"\n                        @click=\"check(1)\"\n                        v-if=\"$store.state.power.reviewOrderBtn && detail.isCheckBth == 1\"\n                        >通过</el-button\n                    >\n                    <el-button\n                        type=\"primary\"\n                        @click=\"out(detail.id)\"\n                        v-if=\"$store.state.power.simpleMaterialsOut && detail.isOutBth == 1\"\n                        >一键出库</el-button\n                    >\n                </div>\n            </div>\n        </el-dialog>\n    </div>\n</template>\n\n<script>\nimport { ElMessage, ElMessageBox } from \"element-plus\";\nexport default {\n    name: \"workOrderDetail\",\n    props: [\"id\"],\n    data() {\n        return {\n            detailLoading: false,\n            showDetailBox: true, // 是否显示详情弹窗\n            detail: {},\n        };\n    },\n    mounted() {\n        this.getData();\n    },\n    methods: {\n        // 出库\n        out(id) {\n            let data = this.detail.agriculturalCartBos.map((item) => {\n                return item.agriculturalBo.title;\n            });\n            ElMessageBox.confirm(\"农资名称：\" + data.join(\",\") + \" <br> 确定要出库吗？\", \"一键出库\", {\n                confirmButtonText: \"确定\",\n                cancelButtonText: \"取消\",\n                type: \"warning\",\n                dangerouslyUseHTMLString: true,\n            })\n                .then(() => {\n                    this.ajax\n                        .post(\"/api/v1/adam/farmLand/saveAgriculturalOutIn\", {\n                            checkStatus: 0,\n                            id: this.detail.id,\n                            orderNo: this.detail.orderNo,\n                        })\n                        .then((r) => {\n                            if (r.code == 200) {\n                                this.$message.success(\"出库成功\");\n                                this.onClose(1);\n                            } else {\n                                this.$message.error(r.message);\n                            }\n                        });\n                })\n                .catch(() => {});\n        },\n        // 审核工单\n        check(v) {\n            this.ajax\n                .post(\"/api/v1/adam/workOrder/checkOrder\", {\n                    checkStatus: v,\n                    id: this.detail.id,\n                    orderNo: this.detail.orderNo,\n                })\n                .then((r) => {\n                    this.onClose(1);\n                });\n        },\n        // 获取详情\n        getData() {\n            this.detailLoading = true;\n            this.ajax\n                .post(\"/api/v1/adam/workOrder/workOrderDetail\", {\n                    id: this.id,\n                })\n                .then((r) => {\n                    if (r.code != 200) {\n                        this.$message.error(r.message);\n                        this.list = [];\n                        return;\n                    }\n                    // 是否显示审核按钮\n                    let user = JSON.parse(localStorage.getItem(\"erp_user\")).id;\n\n                    switch (r.data.orderStatus) {\n                        case 0:\n                            r.data.status = \"待审核\";\n                            r.data.color = \"#EC2626\";\n                            break;\n                        case 1:\n                            r.data.status = \"待出库\";\n                            r.data.color = \"#0DD71C\";\n                            break;\n                        case 2:\n                            r.data.status = \"不通过\";\n                            r.data.color = \"#1890FF\";\n                            break;\n                        case 3:\n                            r.data.status = \"已出库\";\n                            r.data.color = \"#A8A8A8\";\n                            break;\n                    }\n                    r.data.orderManagerBoList = r.data.orderManagerBoList.map((item) => {\n                        switch (item.isCheck) {\n                            case -1:\n                                item.check = \"发起人\";\n                                item.color = \"#979797\";\n                                break;\n                            case 0:\n                                item.check = \"待审核\";\n                                item.color = \"#538DFF\";\n                                break;\n                            case 1:\n                                item.check = \"通过\";\n                                item.color = \"#3DC947\";\n                                break;\n                            case 2:\n                                item.check = \"拒绝\";\n                                item.color = \"#EC2D2D\";\n                                break;\n                        }\n                        return item;\n                    });\n                    this.detail = r.data;\n                    console.log(this.detail);\n                    this.detailLoading = false;\n                });\n        },\n        onClose(v) {\n            if (typeof v == \"function\") {\n                v = null;\n            }\n            this.$emit(\"onCloseDetail\", v);\n            this.showDetailBox = false;\n        },\n    },\n};\n</script>\n\n<style lang=\"less\" scoped>\n@import url(\"@/assets/css/inner.less\");\n@import url(\"@/assets/css/purchase.order.less\");\n.workOrderDetailInner {\n    position: relative;\n    top: -10px;\n    padding: 10px 20px;\n    border-top: 1px solid rgba(0, 0, 0, 0.09);\n    .form {\n        padding: 20px 0;\n        margin-top: 40px;\n        border-top: 1px solid rgba(0, 0, 0, 0.09);\n        border-bottom: 1px solid rgba(0, 0, 0, 0.09);\n        p {\n            display: flex;\n            justify-content: flex-start;\n            align-items: center;\n            padding: 10px 0;\n            color: #1f1f1f;\n            span {\n                display: inline-block;\n                width: 120px;\n            }\n            span:nth-child(2) {\n                color: #538dff;\n            }\n            span:nth-child(3) {\n                width: 300px;\n                color: #979797;\n            }\n            span.ed {\n                color: #979797;\n            }\n        }\n        .formTitle {\n            color: #333333;\n            font-weight: bold;\n        }\n    }\n    .formButton {\n        margin-top: 20px;\n        display: flex;\n        justify-content: flex-end;\n    }\n}\n</style>\n","import { render } from \"./WorkOrderDetail.vue?vue&type=template&id=430e492f&scoped=true\"\nimport script from \"./WorkOrderDetail.vue?vue&type=script&lang=js\"\nexport * from \"./WorkOrderDetail.vue?vue&type=script&lang=js\"\n\nimport \"./WorkOrderDetail.vue?vue&type=style&index=0&id=430e492f&lang=less&scoped=true\"\n\nimport exportComponent from \"/home/runner/work/erp/erp/node_modules/@vue/cli-service/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-430e492f\"]])\n\nexport default __exports__","import { render } from \"./WorkOrder.vue?vue&type=template&id=5c1e02f4&scoped=true\"\nimport script from \"./WorkOrder.vue?vue&type=script&lang=js\"\nexport * from \"./WorkOrder.vue?vue&type=script&lang=js\"\n\nimport \"./WorkOrder.vue?vue&type=style&index=0&id=5c1e02f4&lang=less&scoped=true\"\n\nimport exportComponent from \"/home/runner/work/erp/erp/node_modules/@vue/cli-service/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5c1e02f4\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_createElementBlock","_hoisted_3","_Fragment","_renderList","$data","item","_createBlock","_component_el_badge","value","sup","onClick","$options","key","_createVNode","_component_el_button","type","link","title","_component_el_input","$event","placeholder","_component_el_table","size","data","style","_component_el_table_column","prop","label","default","scope","row","totalCount","index","variety","_hoisted_10","_hoisted_11","agriculturalCos","_toDisplayString","unitweight","_hoisted_12","color","orderStatusColor","orderStatus","width","_ctx","state","power","workOrderDetail","id","length","_component_el_pagination","currentPage","background","onCurrentChange","layout","total","_component_WorkOrderDetail","onOnCloseDetail","_component_el_dialog","orderNo","status","userName","orderTime","agriculturalCartBos","agriculturalBo","agriculturalCount","unitmeasurement","unit","_hoisted_6","_hoisted_7","_hoisted_9","orderManagerBoList","username","check","checkTime","reviewOrderBtn","isCheckBth","plain","simpleMaterialsOut","isOutBth","name","props","detailLoading","showDetailBox","detail","mounted","this","getData","methods","out","map","ElMessageBox","join","confirmButtonText","cancelButtonText","dangerouslyUseHTMLString","then","ajax","post","checkStatus","r","code","$message","success","onClose","error","message","catch","v","list","JSON","parse","localStorage","getItem","isCheck","console","log","$emit","__exports__","currentStatus","searchKey","loading","pageSize","currentDetailId","components","WorkOrderDetail","async","getStatus_0","Promise","a","b","pageNum","param","keyWord","changeStatus","showDetail","onCloseDetail","timer","setTimeout","clearTimeout","render"],"sourceRoot":""}